<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Realtime Speech Debug</title>
  <style>
    body { font-family: sans-serif; background:#111; color:#0f0; padding:20px; }
    button { padding:10px 15px; font-size:16px; }
    #out { margin-top:20px; font-size:20px; white-space:pre-wrap; }
  </style>
</head>
<body>

<h2>ðŸŽ¤ Realtime Speech Test</h2>
<button id="start">Start</button>
<button id="stop">Stop</button>

<div id="out">Waitingâ€¦</div>

<script>
const out = document.getElementById("out");

const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
if (!SR) {
  out.textContent = "âŒ SpeechRecognition NOT supported";
  throw new Error("No SpeechRecognition");
}

const rec = new SR();
rec.lang = "en-US";
rec.continuous = true;
rec.interimResults = true;

rec.onstart = () => out.textContent = "ðŸŽ™ï¸ Listening...";
rec.onerror = e => out.textContent = "ERROR: " + e.error;

rec.onresult = (e) => {
  let text = "";
  for (let i = 0; i < e.results.length; i++) {
    text += e.results[i][0].transcript;
  }
  out.textContent = text;
};

document.getElementById("start").onclick = () => rec.start();
document.getElementById("stop").onclick = () => rec.stop();
</script>

</body>
</html>
